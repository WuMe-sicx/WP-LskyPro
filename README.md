# 兰空图床上传插件 (LskyPro for WordPress)

这是一个WordPress插件，允许用户在编辑文章时直接上传图片到兰空图床(LskyPro)，无需手动上传后再复制链接。

## 主要功能

- 在WordPress编辑器中添加兰空图床上传按钮
- 支持在侧边栏快速上传图片并获取链接
- 支持多图片同时上传
- 支持配置上传权限（公开/私有）
- 可配置允许使用的用户角色
- 限制上传文件大小和类型

## 安装方法

1. 下载插件压缩包
2. 在WordPress后台点击"插件" > "安装插件" > "上传插件"
3. 选择下载的压缩包并安装
4. 安装完成后，激活插件

或者：

1. 将插件文件夹上传到 `/wp-content/plugins/` 目录
2. 在WordPress后台的"插件"菜单中激活插件

## 配置说明

1. 插件激活后，在侧边栏会出现"兰空图床设置"菜单
2. 点击进入设置页面，配置以下信息：
   - API网址：兰空图床的域名，如 `https://www.lsky.pro`
   - 图床Tokens：在兰空图床后台获取的API令牌
   - 图片权限：选择上传图片为公开还是私有
   - 允许使用的角色：设置哪些用户角色可以使用上传功能
   - 最大上传大小：限制上传图片的大小
   - 允许的图片类型：限制可上传的图片格式

## 使用方法

### 编辑器按钮上传

1. 在编辑文章时，点击"上传至兰空图床"按钮
2. 选择需要上传的图片
3. 图片上传成功后将自动插入到编辑器中

### 侧边栏上传

1. 在文章编辑页面右侧的"兰空图床上传"面板中点击上传区域
2. 选择需要上传的图片
3. 上传成功后会显示图片链接，点击链接可复制到剪贴板

## 常见问题

**Q: 点击上传按钮没有反应？**
A: 请确认已在插件设置中正确配置API网址和Tokens，并检查网络连接。

**Q: 上传图片失败？**
A: 可能原因：图片太大、网络问题或API设置错误，请检查兰空图床后台是否能正常上传。

**Q: 上传按钮不显示？**
A: 检查当前用户角色是否在允许列表中，默认只有管理员可以使用。

## 更新日志

### 1.1.0
- 重构代码，提高安全性和稳定性
- 添加多角色支持和文件类型限制
- 改进用户界面和错误处理
- 添加更多配置选项

### 1.0.0
- 首次发布

## 关于作者

作者：isYangs 
二次开发：小旭 && 邮箱： xiaoxuyax@gmail.com
联系方式：isYangs@foxmail.com

## 关于兰空图床

[兰空图床(Lsky Pro)](https://www.lsky.pro/) 是一个简单的图床程序，支持多种云存储，您可以自行搭建或使用他人搭建的服务。

## 许可证

本插件采用 GPL v2 或更高版本许可证发布。 