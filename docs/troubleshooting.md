# 兰空图床上传插件常见问题解决指南

本文档提供了使用兰空图床上传插件时可能遇到的常见问题及其解决方法。

## 目录

1. [设置问题](#设置问题)
2. [上传问题](#上传问题)
3. [权限问题](#权限问题)
4. [API版本问题](#API版本问题)
5. [与其他插件的兼容性](#与其他插件的兼容性)

## 设置问题

### 无法保存设置

**问题描述**：点击保存设置按钮后，设置未能成功保存。

**可能的解决方案**：
- 确认您有管理员权限
- 检查WordPress网站是否有写入选项表的权限
- 检查是否有安全插件拦截了设置的保存
- 尝试禁用其他插件，然后再次保存设置

### 测试连接失败

**问题描述**：点击测试连接按钮后显示连接失败。

**可能的解决方案**：
- 确认API网址格式正确，包含http://或https://前缀
- 确认Token值正确无误
- 检查API版本选择是否正确（V1或V2）
- 确认您的网站服务器可以访问兰空图床服务器
- 检查兰空图床服务是否正常运行
- 如果使用的是自建兰空图床，请确认API功能已启用

## 上传问题

### 无法上传图片

**问题描述**：点击上传按钮后无法选择文件或上传失败。

**可能的解决方案**：
- 确认已正确配置API网址和Token
- 检查图片大小是否超过了设置的最大限制
- 确认图片格式是否在允许的类型列表中
- 检查浏览器控制台是否有JavaScript错误
- 临时禁用其他可能干扰的插件

### 上传图片后无法显示

**问题描述**：图片上传成功但在WordPress中无法正常显示。

**可能的解决方案**：
- 检查兰空图床服务器是否可以公开访问
- 确认图片权限设置为"公开"而非"私有"
- 检查图片URL是否正确
- 检查网站是否启用了内容安全策略(CSP)限制外部图片加载

## 权限问题

### 某些用户无法使用上传功能

**问题描述**：部分用户在编辑文章时看不到上传按钮。

**可能的解决方案**：
- 在设置页面检查"允许使用的角色"设置，确保已选择相应角色
- 确认用户确实属于被允许的角色
- 检查是否有其他插件修改了用户角色或权限

### 上传按钮显示但点击无反应

**问题描述**：上传按钮可见但点击后没有任何反应。

**可能的解决方案**：
- 检查浏览器控制台是否有JavaScript错误
- 确认用户具有上传权限
- 检查Token是否仍然有效（可能已过期）
- 临时禁用安全插件或防火墙，看是否解决问题

## API版本问题

### 不确定使用哪个API版本

**问题描述**：不知道应该选择V1还是V2版本API。

**可能的解决方案**：
- 如果您使用的是较新的兰空图床(Lsky Pro v2.0及以上)，请选择V2
- 如果是旧版本的兰空图床，请选择V1
- 如果不确定，可以尝试使用测试连接功能，分别测试V1和V2，看哪个能成功连接
- 咨询您的兰空图床服务提供商

### API返回错误

**问题描述**：上传时API返回错误消息。

**可能的解决方案**：
- 确认选择了正确的API版本
- 检查Token权限是否足够（是否有上传权限）
- 确认兰空图床服务正常运行
- 检查图片大小和格式是否符合兰空图床的要求
- 查看WordPress错误日志以获取更详细信息

## 与其他插件的兼容性

### 与页面构建器插件冲突

**问题描述**：在使用Elementor、Divi等页面构建器时上传按钮不显示或无法使用。

**可能的解决方案**：
- 确认页面构建器是否支持标准的WordPress media_buttons钩子
- 尝试在标准WordPress编辑器中使用上传功能
- 联系页面构建器插件的开发者咨询兼容性问题

### 与图片优化插件冲突

**问题描述**：使用Smush、ShortPixel等图片优化插件时出现问题。

**可能的解决方案**：
- 这些插件通常只处理WordPress媒体库中的图片，不会影响兰空图床上传
- 如果确实出现冲突，可以在上传到兰空图床时临时禁用图片优化插件
- 考虑使用兰空图床自带的图片优化功能(如有)

## 联系支持

如果您遇到的问题无法通过本指南解决，请联系插件作者获取支持：

- 作者邮箱：isYangs@foxmail.com
- QQ联系：750837279

在寻求帮助时，请提供以下信息：
1. WordPress版本
2. 插件版本
3. 使用的兰空图床版本
4. 详细的错误信息或截图
5. 问题重现步骤 